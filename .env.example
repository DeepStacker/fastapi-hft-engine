# Complete .env.example - Copy to .env and fill in your values

# =============================================================================
# CRITICAL SECURITY SETTINGS
# =============================================================================

# SECRET_KEY - MUST be set in production (32+ characters)
# Generate with: python -c 'import secrets; print(secrets.token_urlsafe(32))'
SECRET_KEY=CHANGE_ME_IN_PRODUCTION

# Default admin password (change immediately after first login)
DEFAULT_ADMIN_PASSWORD=ChangeMe123!

# =============================================================================
# DHAN API CREDENTIALS
# =============================================================================

# Get these from Dhan broker account
DHAN_CLIENT_ID=your_client_id_here
DHAN_ACCESS_TOKEN=your_access_token_here

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL/TimescaleDB
POSTGRES_DB=stockify_db
POSTGRES_USER=stockify
POSTGRES_PASSWORD=your_secure_db_password_here
DATABASE_URL=postgresql+asyncpg://stockify:your_secure_db_password_here@localhost:5432/stockify_db

# Database Pool Settings (production optimized)
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_PRE_PING=True
DB_POOL_RECYCLE=3600

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

REDIS_URL=redis://localhost:6379/0
REDIS_MAX_CONNECTIONS=50

# =============================================================================
# KAFKA CONFIGURATION
# =============================================================================

KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_COMPRESSION_TYPE=lz4

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Environment
ENVIRONMENT=production  # production, staging, development

# API Settings
PROJECT_NAME=Stockify
API_VERSION=1.0.0
LOG_LEVEL=INFO

# JWT Settings
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# CORS - Add your frontend domains
ALLOWED_ORIGINS=http://localhost:3000,https://yourdomain.com

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Slow query threshold (milliseconds)
SLOW_QUERY_THRESHOLD_MS=1000

# Rate limiting
RATE_LIMIT_ENABLED=True
RATE_LIMIT_STORAGE_URL=redis://localhost:6379/1

# WebSocket limits
MAX_WEBSOCKET_CONNECTIONS_PER_USER=10

# =============================================================================
# MONITORING
# =============================================================================

# Metrics port
METRICS_PORT=9090

# Grafana
GRAFANA_PASSWORD=your_grafana_password_here

# =============================================================================
# SMTP EMAIL CONFIGURATION (for alerts)
# =============================================================================

# SMTP server settings (example for Gmail)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_specific_password_here
SMTP_FROM_EMAIL=alerts@stockify.local
SMTP_USE_TLS=True

# =============================================================================
# OPTIONAL: CLOUD/CDN SERVICES
# =============================================================================

# AWS S3 for backups (optional)
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_S3_BUCKET=stockify-backups
# AWS_REGION=us-east-1

# CloudFlare CDN (optional)
# CLOUDFLARE_API_TOKEN=
# CLOUDFLARE_ZONE_ID=

# =============================================================================
# DOCKER COMPOSE OVERRIDES
# =============================================================================

# Resource limits (optional)
# GATEWAY_REPLICAS=3
# STORAGE_REPLICAS=2
# PROCESSOR_REPLICAS=2

# =============================================================================
# DEVELOPMENT ONLY
# =============================================================================

# DEBUG mode (DO NOT enable in production)
DEBUG=False

# Hot reload (development only)
# RELOAD=True

# =============================================================================
# NOTES
# =============================================================================

# 1. NEVER commit .env to version control
# 2. Rotate SECRET_KEY and API tokens regularly
# 3. Use strong passwords (min 16 characters)
# 4. Enable SSL/TLS in production
# 5. Set up firewall rules
# 6. Monitor logs for security events
# 7. Regular backups automated
# 8. Keep dependencies updated
