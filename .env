# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DATABASE_URL=postgresql+asyncpg://stockify:stockify123@timescaledb:5432/stockify_db
POSTGRES_DB=stockify_db
POSTGRES_USER=stockify
POSTGRES_PASSWORD=stockify123

# Database Pool Settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_PRE_PING=True
DB_POOL_RECYCLE=3600

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL=redis://localhost:6379/0
# REDIS_URL=redis://redis:6379/0
REDIS_MAX_CONNECTIONS=50

# =============================================================================
# KAFKA CONFIGURATION
# =============================================================================# Kafka Configuration (LOCAL: Single broker)
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
# KAFKA_BOOTSTRAP_SERVERS=kafka-broker-1:29092,kafka-broker-2:29093,kafka-broker-3:29094
KAFKA_PORT=9092
KAFKA_COMPRESSION_TYPE=gzip

# =============================================================================
# SECURITY
# =============================================================================
# IMPORTANT: Generate a secure key with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=CHANGE_ME_GENERATE_SECURE_KEY_MIN_32_CHARS
# IMPORTANT: Change this immediately in production!
DEFAULT_ADMIN_PASSWORD=CHANGE_ME_SET_STRONG_PASSWORD

# JWT Settings
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=1440

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
ENVIRONMENT=production
PROJECT_NAME=Stockify
API_VERSION=1.0.0
LOG_LEVEL=INFO

# CORS - Add your frontend domains
ALLOWED_ORIGINS=["http://localhost:3000","http://localhost:8000","http://localhost:8001"]

# =============================================================================
# DHAN API CREDENTIALS
# =============================================================================
# IMPORTANT: Get these from https://api.dhan.co after login
# WARNING: Never commit actual tokens to version control!
DHAN_CLIENT_ID=YOUR_DHAN_CLIENT_ID
DHAN_ACCESS_TOKEN=YOUR_DHAN_ACCESS_TOKEN

# =============================================================================
# MONITORING
# =============================================================================
GRAFANA_PASSWORD=admin
METRICS_PORT=9094

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================
SLOW_QUERY_THRESHOLD_MS=1000
RATE_LIMIT_ENABLED=True
MAX_WEBSOCKET_CONNECTIONS_PER_USER=10
