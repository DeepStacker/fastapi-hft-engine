global:
  scrape_interval: 15s
  evaluation_interval: 15s
  external_labels:
    cluster: 'hft-engine'
    environment: 'production'

# Scrape configurations
scrape_configs:
  # HFT Services
  - job_name: 'api-gateway'
    static_configs:
      - targets:
          - 'gateway-1:8000'
          - 'gateway-2:8000'
          - 'gateway-3:8000'
    metrics_path: '/metrics'

  - job_name: 'ingestion-service'
    static_configs:
      - targets:
          - 'ingestion-1:8000'
          - 'ingestion-2:8000'
          - 'ingestion-3:8000'

  - job_name: 'processor-service'
    static_configs:
      - targets:
          - 'processor-1:8000'
          - 'processor-2:8000'
          - 'processor-3:8000'
          - 'processor-4:8000'

  - job_name: 'storage-service'
    static_configs:
      - targets:
          - 'storage-1:8000'
          - 'storage-2:8000'

  - job_name: 'historical-service'
    static_configs:
      - targets:
          - 'historical-1:8000'
          - 'historical-2:8000'
          - 'historical-3:8000'
          - 'historical-4:8000'

  - job_name: 'analytics-service'
    static_configs:
      - targets:
          - 'analytics-1:8000'
          - 'analytics-2:8000'

  # Infrastructure
  - job_name: 'kafka'
    static_configs:
      - targets:
          - 'kafka-broker-1:9092'
          - 'kafka-broker-2:9092'
          - 'kafka-broker-3:9092'

  - job_name: 'redis'
    static_configs:
      - targets:
          - 'redis-primary-1:7001'
          - 'redis-primary-2:7002'
          - 'redis-primary-3:7003'

  - job_name: 'timescaledb'
    static_configs:
      - targets:
          - 'timescaledb-primary:5432'
          - 'timescaledb-replica-1:5432'
          - 'timescaledb-replica-2:5432'

  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']
